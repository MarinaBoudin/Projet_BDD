#!usr/bin/perl
use strict;
use warnings;
use DBI;

#Connexion de la base de donnee
my $dbh=DBI->connect("DBI:Pg:dbname=dcetchegaray;host=dbserver","dcetchegaray","b2wehd7t",{'RaiseError' => 1});
$dbh->do("drop table EntryNameUniprot cascade");
$dbh->do("drop table EntreeUniprot cascade");
$dbh->do("drop table FichierEnsembl cascade");
#Creation des tables et de leurs attributs
$dbh->do("create table GeneNameUniprot(GeneName text constraint cle_GeneN primary key, Synonymous text, GeneOntology text)");
$dbh->do("create table ProteinNameUniprot(ProteineName text constraint cle_ProtN primary key, Sequence text, Statut varchar(25) constraint R_U check(Statut in ('reviewed','unreviewed')), Length int)");
$dbh->do("create table EntreeUniprot(Entry varchar(100) constraint cle_Entree primary key, EntryName text references EntryNameUniprot(EntryName), Organism text, EnsemblPlants text)");
$dbh->do("create table FichierEnsembl(PlantReactomeReactionID text, UniprotKBTrEMBLID varchar(100), TranscriptStableID varchar(100), GeneStableID varchar(100), constraint cle_Uni primary key(PlantReactomeReactionID, TranscriptStableID))");
